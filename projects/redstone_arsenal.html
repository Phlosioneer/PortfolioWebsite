<!DOCTYPE html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/mystyles.css">
	<link rel="stylesheet" href="/splide.min.css">
	<link rel="stylesheet" href="/fontawesome/fontawesome.css">
	<link rel="stylesheet" href="/fontawesome/solid.css">
	<script src="/splide.js"></script>
	<title>Patch for Redstone Arsenal | Portfolio | Matthew Rogge</title>
</head>
<body>
	<nav class="navbar is-fixed-top">
		<div class="navbar-brand">
			<a role="button" class="navbar-burger">
				<!-- Three empty spans to draw the burger icon -->
				<span></span>
				<span></span>
				<span></span>
			</a>
		</div>
		<div class="navbar-menu">
			<div class="navbar-start">
				<div class="notification is-warning">
					Site is under construction! Some images and descriptions are missing. Last change: Jan 27 at 8:52 PM
				</div>
			</div>
			<div class="navbar-end">
				<a class="navbar-item is-tab " href="/#about">About Me</a>
				<a class="navbar-item is-tab is-active" href="/#projects">Projects</a>
				<a class="navbar-item is-tab " href="contact.html">Contact</a>
				<a class="navbar-item" href="resume.pdf">Resume&nbsp;<i class="fas fa-external-link-alt"></i></a></div>
		</div>
	</nav>
	<div class="section">
		<div class="card">
			<div class="card-content">
				<div class="media">
					<div class="media-content">
						<h1 class="title">Patch for Redstone Arsenal</h1>
						<h2 class="subtitle">Script to parse and modify java bytecode</h2>
						<div class="content"><div class="markdown"><p>Redstone Arsenal is a Minecraft mod. I didn't have the 
Minecraft development environment set up, so I wrote a script 
to edit the mod's compiled Java files. The script changes
several constants over 8 files to re-balance the mod. It scans
for code that assigns the constants and transforms them to use
new constants. The integers involved are near the maximum signed
value of a Short, and increasing their size was very difficult.</p>
<p>First, the script parses the requested changes in an abbreviated
format. Patches are described by the name of the variable, its value,
and which file(s) have that variable. Then it reads the JVM bytecode,
which is separated into a constants table and the code body for each
function. The constants table also contains type information like the
names for each of the fields.</p>
<p>Next it iterates through each patch, and starts transforming it. Constants
that fit within 2 bytes before and after the patch were easy to implement,
and just required changing an inlined constant. Constants that were
originally 4 bytes were also easy; their entry in the constants table
was overwritten with the new value.</p>
<p>Constants that were 2 bytes before the patch but were 4 bytes after
the patch required more attention. Constant numbers larger than 2
bytes required a new entry in the constants table and a different opcode.</p>
<p>The script worked perfectly, and continued to work when the mod updated.</p></div></div>
					</div>
					<!-- TODO: A nice-looking vertical dividor -->
					<div class="media-right">			
						<h3>Language:</h3><span><a>Jupyter Notebook</a><!-- TODO: Outgoing-link symbol --></span>
						<h3>Years:</h3><span>2012, 2020</span><!-- TODO: Make a config option for this -->
						<h3>Github Repo</h3><span><a href=></a></span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="section">
		<div class="card">
			<div class="splide">
				<div class="splide__track">
					<ul class="splide__list">
					</ul>
				</div>
			</div>
		</div>
	</div>
	<script>
		new Splide('.splide').mount();
	</script>
</body>
